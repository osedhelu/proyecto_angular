<!--
  ~
  ~ Headwind MDM: Open Source Android MDM Software
  ~ https://h-mdm.com
  ~
  ~ Copyright (C) 2019 Headwind Solutions LLC (http://h-sms.com)
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<div ng-controller="PluginContactsTabController" style="padding:1em;">

    <div class="text-center">
        <h3 localized>plugin.contacts.tab.title</h3>
    </div>
    <div class="text-center row" style="margin: 20px" localized>plugin.contacts.notice</div>

    <form class='form-horizontal'>
    <div class='form-group' ng-if='errorMessage'>
        <div class='error'><span>{{errorMessage}}</span></div>
    </div>

    <div class='form-group' ng-if='successMessage'>
        <div class='success'><span>{{successMessage}}</span></div>
    </div>
<br/>
<div class="col-sm-12 table-responsive" style="border: #C1C1C2 1px solid;border-radius: 3px;
                        box-shadow: 0px 0px 4px 1px #C1C1C2; margin: 0em auto 3em;">
                        <br/><br/>
<div class="col-sm-12 margin-bottom">
<div class="col-sm-3"></div>
    <div class='form-group'>
        <label class='col-sm-2 control-label' localized>plugin.contacts.configuration</label>
        <div class='col-sm-3'>
            <select class='form-control'
                    ng-model='data.configurationId'
                    ng-change='onConfigSelect()'
                    ng-options="configuration.id as configuration.name for configuration in configurations">
            </select>
        </div>
    </div>
</div>
<div class="col-sm-12"><br/></div>
    <div ng-if="data.configurationId">
<div class="col-sm-12 margin-bottom">
        <div class='form-group'>
            <label class='col-sm-2' localized>plugin.contacts.vcf.url</label>
            <div class='col-sm-3'>
                <input ng-model='data.vcfUrl'
                       type='text' class='form-control'
                       localized-placeholder='plugin.contacts.vcf.url.placeholder'>
            </div>
            <label class='col-sm-2' localized>plugin.contacts.http.username</label>
            <div class='col-sm-3'>
                <input ng-model='data.httpUsername'
                       type='text' class='form-control'
                       localized-placeholder='plugin.contacts.http.username.placeholder'>
            </div>
        </div>
</div>
<div class="col-sm-12 margin-bottom">
        <div class='form-group'>
            <label class='col-sm-2' localized>plugin.contacts.http.password</label>
            <div class='col-sm-3'>
                <input ng-model='data.httpPassword'
                       type='text' class='form-control'
                       localized-placeholder='plugin.contacts.http.password.placeholder'>
            </div>
            <label class='col-sm-2' localized>plugin.contacts.account.type</label>
            <div class='col-sm-4'>
                <input ng-model='data.accountType'
                       type='text' class='form-control'
                       localized-placeholder='plugin.contacts.account.type.placeholder'>
            </div>
        </div>
</div>
<div class="col-sm-12 margin-bottom">
        <div class='form-group'>
            <label class='col-sm-3' localized>plugin.contacts.sync.timespan</label>
            <div class='col-sm-2'>
                <input ng-model='data.syncTimespan'
                       type='number' class='form-control'
                       localized-placeholder='plugin.contacts.sync.timespan.placeholder'>
            </div>
            <label class='col-sm-3' localized>plugin.contacts.wipe.all</label>
            <div class='col-sm-1'>
                <input ng-model='data.wipeAll'
                       type='checkbox'>
            </div>
        </div>
</div>
<div class="col-sm-12 margin-bottom">
<div class="col-sm-5"></div>
        <div class='form-group'>
            <div class='col-sm-2'>
                <button type='submit' class='btn btn-primary btn-block' ng-click='save()'
                        localized>button.save</button>
            </div>
        </div>
</div>
</div>
    </div>
    </form>
</div>
