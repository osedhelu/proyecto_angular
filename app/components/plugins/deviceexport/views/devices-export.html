<!--
  ~
  ~ Headwind MDM: Open Source Android MDM Software
  ~ https://h-mdm.com
  ~
  ~ Copyright (C) 2019 Headwind Solutions LLC (http://h-sms.com)
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<!-- Localization completed -->
<div ng-controller="PluginDeviceExportTabController" style="padding: 1em">
    <div class="text-center">
        <h3 localized>plugin.deviceexport.tab.title</h3>
    </div>

    <div class="form-group">
        <div ng-show="errorMessage" class="error">
            <span>{{errorMessage}}</span>
        </div>
        <div ng-show="successMessage" class="success">
            <span>{{successMessage}}</span>
        </div>
    </div>

    <br />
    <div class="col-sm-12" style="
      border: #c1c1c2 1px solid;
      border-radius: 3px;
      box-shadow: 0px 0px 4px 1px #c1c1c2;
      margin: 0em auto 3em;">
        <br /><br />
        <div class="form-horizontal">
            <div class="col-sm-12 margin-bottom">
                <div class="form-group">
                    <div class="col-sm-1">
                        <label for="filterType" localized>plugin.deviceexport.selection</label>
                    </div>
                    <div class="col-sm-3">
                        <select id="filterType" class="form-control" ng-model="request.filterType"
                            ng-options="t.id as t.name for t in filterTypeOptions"></select>
                    </div>
                    <div class="col-sm-1"></div>
                    <div ng-if="request.filterType == 1">
                        <div class="col-sm-2">
                            <label for="groupsSelection" localized>plugin.deviceexport.group.selection</label>
                        </div>
                        <div class="col-sm-2">

                            <div ng-dropdown-multiselect id="groupsSelection" options="groupsList"
                                translation-texts="groupsFilteringTexts" selected-model="groupsSelection"
                                class="left margin-right-half custom-multi-select"></div>
                        </div>
                    </div>

                    <div ng-if="request.filterType == 2">
                        <div class="col-sm-2">
                            <label for="configurationsSelection"
                                localized>plugin.deviceexport.configuration.selection</label>
                        </div>
                        <div class="col-sm-3 ">
                            <div  ng-dropdown-multiselect id="configurationsSelection" options="configurationsList"
                                translation-texts="configurationsFilteringTexts"
                                selected-model="configurationsSelection"
                                class="left margin-right-half custom-multi-select"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 margin-bottom">
                <div class="form-group">
                    <label class="col-sm-2" localized>plugin.deviceexport.selection.file.type</label>

                    <div class="col-sm-2">
                        <select id="exportType" class="form-control" ng-model="request.exportType"
                            ng-options="t.id as t.name for t in exportTypeOptions"></select>
                    </div>

                    <div class="col-sm-1"></div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label for="columnsList" localized>plugin.deviceexport.column.selection</label>
                        </div>
                        <div class="col-sm-4">
                            <div ng-dropdown-multiselect id="columnsList" options="columnsList"
                                translation-texts="columnsFilteringTexts" selected-model="columnsSelection"
                                class="left margin-right-half custom-multi-select"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 margin-bottom">
                <div class="form-group">
                    <div class="col-sm-5"></div>
                    <div class="col-sm-2">
                        <button type="submit" class="btn btn-success btn-block" ng-click="doExport()"
                            ng-disabled="loading" localized>button.plugin.deviceexport.export</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

